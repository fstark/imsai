}
MIOA.PRN PAGE 4
3202 oc INR C
3203 C2FF31 JNZ OLASL *
3206 3C INR A
3207 C2PF31 J8Z DLASL
320A C9 RET
3208 ES DONE: PUSH E ;TAKE 121 CYCLES
320C El POP &
320D ES PUSH A .
3208 £1 POP @
320F g5 PUSH B
3210 E1 POP a .
32211 &5 PUSH B
3212 EL POP H
3213 £5 PUSH H “
3214 EL POP H
3215 7F MOV A,A
3216 co RET
;PIO TEST 1 READ SENSE SWITCHES AND OUTPUT
3 TO BOTH PORTS.
3217 0201 PIOl: MVI C,1 ;SET TEST 1 FLAG
3219 DBFF PIOll: IN SSPT ;GET VALUE
3218 25 PIOL2: CNA -  3FOR PROPER LIGHTS
321¢ DIFP our sseT ;QUTPUT TO LIGHTS
3218 26 CMA 7FOR PROGRAM USE
321F 47 MOV BLA
3220 ae XRA A ;SET FOR PORT 1 .
3221 0343 OUT CNT
3223 78 MOV A,B
3224 0341 out PIO
3226 3680 MVI A, 808 iNCW FOR PORT 2
3228 D343 our cNT
322A 78 MOV A,B
3228 D341 our PIO
322d oc INR C ;SEB WHICH TEST IT IS
3226 0D pCR C
322P PA3532 JM PIOL3
3232 ¢21932 + S82 PIO
3235 79 PIO13: MOV A,C ;TEST 2 OR 3
3236 D343 ouT CNT ;SET TO READ PROPER INPUT PORT .
3238 pB4l_ ri Pio.
323A C31B32 JMP PIOL2 .
;PLO TEST 2 PEAD PIO PORT 1 AND OUTPUT
z TO PORTS 1 AND 2 AND SENSE LIGHTS
323D 0E00 PIO2: MVI Cc, ;PLAG FOR PORT 1 IN
323F €33532 IMP PIO13
;PIO TEST 3 READ PIO PORT 2 AND OUTPUT
3 TO PORTS 1 AND 2 AND SENSE LIGHTS.
3242 0680 PIO3: MMVI C,808 ;fLAG FOR PORT 2 IN :
3244 €33532 MP PTO13
;CRI WRITE TEST *” WRITE A BLOCK OF 255 BYTES
: WITH EACH BYTE CONTAINING‘ ITS ADDRESS
3 WITHIN THE BLOCK.
3247 310036 CRIWT: LXI SP,STACK
3248 210036 LXI H,BUFR :PILL BUPPER WITS ADDRESS
324D AF XRA A
3248 77 CRIWL: MOV M,A
324F 23 INx 5
3250 3C INR A
