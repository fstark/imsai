ATOR. PRN PAGE 1
APPENDIX 3
;MIQ BOARD CRI INITIALIZATION PROGRAMS
7ADDRESS DEFINITIONS FOR MIO BOARD CONFIGURED
: yAS DEFINED IN MIO USER GUIDE - SECTION 1.2
0042 = sro eQU 42H
oo4l = PIO EQU 418
0043 = CNT —QU 435
- 0040 = CRI £QU 408 -
Orr = ssPt EQU OFFH ;SENSE LIGHTS AND S¥ITCHES
3100 = BASA EQU 31008
3000 = BASB EQu 30008
3600 = BUFR EQU 36008
3600 = STACK EQU 36008
3100 ORG BASA
;JUMP TABLE FOR ENTRY TO MIO TESTS
. 3100 €31831 JMP SIOl
3103 C33031 JMP S102
3106 C34531 JMP S103
3109 €31732 7 JMP PIOL .
310¢c ¢33D32 IMP PIOZ
31OP C34232 JMP PIO}
3112 ¢34732 UMP CRINT
3115 €36732 «IMP CRIRT
;SIO TEST 1 QUTPUT THE VALUE CONTAINED IN THE
3 SENSE SWITCRES TO THE SIO PORT. IF AN
3 INPUT CHARACTER IS READY AND NO INPUT
; ERRORS OCCUR DISPLAY THE CHARACTER IN
. ? = IN THE SENSE LIGHTS. IF AN INPUT ERROR
; OCCURS, DISPLAY ALL ONES. PAUSE 15
+ SECONDS EACH TIME THE SWITCHES ARE CHANGED.
3118 310036 STOl: LXI SP,STACK
3118 Ar XRA A ;SET UP CONTROL REG
31lc 0343 OnT CNT
311z CDE231 STOLL: CALL SSIN ;GET SENSE SWITCHES
3121 CD9E31 CALL SOUT 7OUTPUT CHAR
3124 CDAA3L CALL SINP ;TEST INPUT
3127 CAL831 JZ Stol 7IF NO INPUT READY
312A 2F CMA
312B D3FF OUT ssPT ;OUTPUT, CHAR OR ERROR FLAG
312D C31E31 JuP SIOll
3810 TEST 2 READ INPUT CHARACTERS FROM STO DEVICE
: : IF CHARACTER IS READ WITHOUT ERROR,
; . OUTPUT CHARACTER TO SIO DEVICE. IF AN
z ERROR OCCURS, IGNORE CHARACTER
3130 310036 S102: LXI SP,STACK
3133 ar XRA A ;SET CONTROL REG
3134 0343 . OUT CNT
3136 CDAA3L SIO21: CALL SINP #GET CHAR
3139 CA3631 Jz stc2l iNONE READY
313C FA3631 gM SrTo2z1 *~ 7ERROR ON INPUT
313% CD9E3L CALL SOUT ;OUTPUT VALID CHAR .
3142 €33631 oMP SIo21 :
+810 TEST 3 CONTINUOUSLY TRANSMIT: ALL POSSIBLE BIT
3 PATTERS MASKED WITH THE COMPLEMENT CP TEE
? SENSE SWITCHES. CHECK FOR RECEIVE ERRORS
' AND DISPLAY OFPH IF ANY CCCUR FOLLOWED BY
: STATUS WITH PE,OE,FE,RRDY AND TRDY IN BITS
